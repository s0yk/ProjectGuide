<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ITPUB :: Publishing Guide</title>
        
        <meta property="og:image" content="./resources/images/img/thumnail.png">
        <meta property="og:title" content="아이티펍 프로젝트 가이드">
        <meta property="og:description" content="ITPUB Project Publishing Guide">
    
        <link rel="icon" href="../../resources/images/img/favicon.ico">

        <!-- CSS -->
        <link rel="stylesheet" href="../../resources/css/reset.css">
        <link rel="stylesheet" href="../../resources/css/guide.css">
        <link rel="stylesheet" href="../../resources/css/style.css">
    
        <!-- JS -->
        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
        <script src="../../resources/js/prism.js"></script>
        <script src="../../resources/js/sub_guide.js"></script>
    </head>
    <style>
        .chk-box:has(#chkAll)  {
            padding-bottom: 20px;
            margin-bottom: 20px;
            border-bottom: 1px solid lightgray;
            display: inline-block;
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
        }
        input[type="checkbox"] ~ label {
            font-size: 18px;
        }
    </style>

    <body>
        <div id="guide-wrap">
            <header id="guide-header">
                <h2 class="title">
                    <span class="cate"></span>
                    전체 체크
                </h2>
                <div class="dec">
                    <p>
                        전체 체크 기능은 속성 checked를 이용해 구현합니다.
                    </p>    
                    <p>
                        같은 데이터 그룹간에 name 속성을 같게 설정해주어야 합니다.
                    </p>
                </div>
            </header>
            <section id="guide-contents">
                    <article>
                        <div class="chk-box">
                            <input type="checkbox" id="chkAll">
                            <label for="chkAll">전체 체크</label>
                        </div>
                        <div class="chk-box">
                            <input type="checkbox" id="apple" name="chk">
                            <label for="apple">사과</label>
                        </div>
                        <div class="chk-box">
                            <input type="checkbox" id="banana" name="chk">
                            <label for="banana">바나나</label>
                        </div>
                        <div class="chk-box">
                            <input type="checkbox" id="kiwi" name="chk">
                            <label for="kiwi">키위</label>
                        </div>
                    </article>
            </section>
            <section id="guide-code">
                <div class="html">
                    <div class="title-wrap">
                        <h3 class="title">HTML</h3>
                        <button type="button" class="copy-btn">COPY</button>
                    </div>
                    <code class="language-html inner-code">
                    </code>
                </div>
                <div class="script-code-box language-javascript">
                    <div class="title-wrap">
                        <h3 class="title">Java Script</h3>
                        <button type="button" class="copy-btn">COPY</button>
                    </div>
                    <code class="language-js inner-code">
                    </code>
                </div>
            </section>
        </div>
        <script>
            // 체크 변수 선언
            const allCheckBtn = $('#chkAll');
            let checkTotal = $('input[name="chk"]').length;
            let checkedTotal;

            $(function() {

                // 전체 체크 기능
                allCheckBtn.on('click', () => {
                    if(allCheckBtn.is(":checked")){
                        $('input[name="chk"]').prop('checked', true);
                    } else {
                        $('input[name="chk"]').prop('checked', false);
                    }
                })

                // 개별 체크 확인
                $('input[name="chk"]').on('click', function() {
                    checkedTotal = $('input[name="chk"]:checked').length;

                    if ( checkTotal === checkedTotal ) {
                        allCheckBtn.prop('checked', true)
                    } else {
                        allCheckBtn.prop('checked', false)
                    }
                })
            })
        </script>
    </body>
</html>


