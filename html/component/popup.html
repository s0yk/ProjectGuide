<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ITPUB :: Publishing Guide</title>

    <meta property="og:image" content="./resources/images/img/thumnail.png">
    <meta property="og:title" content="아이티펍 프로젝트 가이드">
    <meta property="og:description" content="ITPUB Project Publishing Guide">

    <link rel="icon" href="../../resources/images/img/favicon.ico">

    <!-- CSS -->
    <link rel="stylesheet" href="../../resources/css/reset.css">
    <link rel="stylesheet" href="../../resources/css/guide.css" />
    <link rel="stylesheet" href="../../resources/css/style.css" />

    <!-- JS -->
    <script
    src="https://code.jquery.com/jquery-3.6.0.js"
    integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"
    ></script>
    <script src="../../resources/js/prism.js"></script>
    <script src="../../resources/js/sub_guide.js"></script>
</head>
<style></style>
<style>
    .btn {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    padding: 12px;
    background-color: cadetblue;
    color: white;
    height: 40px;
    border-radius: 8px;
    }
</style>
<body>
    <div id="guide-wrap">
    <header id="guide-header">
        <h2 class="title">
        <span class="cate"></span>
        Popup Guide
        </h2>
        <div class="dec">
        <p>
            팝업은 새 창으로 브라우저 위에 노출되는 UI로 페이지 진입 시 공지사항
            등에 활용됩니다.
        </p>
        <p>필수적으로 불러올 팝업 전용 HTML을 필요로 합니다.</p>
        <p>
            자동으로 띄우는 팝업 구현 시 사용자가 팝업을 차단했다면 노출되지
            않습니다.
        </p>
        </div>
    </header>
    <section id="guide-contents">
        <div>
        <button
            type="button"
            class="btn"
            onclick="popupOpen('popup_example.html', '새 창 팝업 예시')"
        >
            팝업 열기
        </button>
        </div>
    </section>
    <section id="guide-code">
        <div class="html">
        <div class="title-wrap">
            <h3 class="title">HTML</h3>
            <button type="button" class="copy-btn">COPY</button>
        </div>
        <code class="language-html inner-code"> </code>
        </div>
        <div class="script-code-box language-javascript">
        <div class="title-wrap">
            <h3 class="title">Java Script</h3>
            <button type="button" class="copy-btn">COPY</button>
        </div>
        <code class="language-js inner-code"> </code>
        </div>
    </section>
    </div>
    <script>
    // 초기값 설정
    let popup = null;

    // 팝업 새창 열기
    function popupOpen(url, title = undefined) {
        const popWidth = "700";
        const popHeight = "600";

        // 브라우저 중앙값 계산
        const popLeft = Math.ceil(
        (window.innerWidth - popWidth) / 2 + window.screenX
        );
        const popTop = Math.ceil(
        (window.innerHeight - popHeight) / 2 + window.screenY
        );

        const options = `width = ${popWidth}, 
            height =  ${popHeight},
            title = ${title},
            scrollbars = yes, 
            left = ${popLeft},
            top = ${popTop}`;

        // 값이 열려있는 지 확인
        if (!popup || popup.closed) {
        popup = window.open(url, "_blank", options);
        } else {
        // 존재하는 팝업이 있다면 기존 팝업에 포커스 적용
        popup.focus();
        }
    }

    // 로드 시 새창 열기 * 브라우저 기본 팝업 차단 시 나타나지 않음
    document.addEventListener("DOMContentLoaded", function () {
        popupOpen("popup_example.html", "팝업 예시");
    });
    </script>
</body>
</html>
